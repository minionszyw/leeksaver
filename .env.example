# ======================
# LeekSaver 环境变量配置
# ======================

# 应用配置
APP_NAME=LeekSaver
APP_ENV=development
DEBUG=true

# API 配置
API_HOST=0.0.0.0
API_PORT=8000

# PostgreSQL 配置
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=leeksaver
POSTGRES_PASSWORD=leeksaver_password
POSTGRES_DB=leeksaver

# Redis 配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# Celery 配置
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# LLM 配置 (支持多服务商)
LLM_PROVIDER=deepseek
# DeepSeek
DEEPSEEK_API_KEY=your_deepseek_api_key
DEEPSEEK_BASE_URL=https://api.deepseek.com/v1
DEEPSEEK_MODEL=deepseek-chat
# OpenAI (可选)
OPENAI_API_KEY=your_openai_api_key
OPENAI_MODEL=gpt-4-turbo-preview
# Ollama (可选, 本地模型)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=qwen2.5:14b

# 数据同步配置
AKSHARE_RATE_LIMIT=5
AKSHARE_RATE_LIMIT_WINDOW=1
SYNC_BATCH_SIZE=100

# 新闻同步配置
NEWS_SYNC_MARKET_LIMIT=50
NEWS_SYNC_WATCHLIST_LIMIT_PER_STOCK=5
NEWS_SYNC_BATCH_INTERVAL=0.5

# 向量生成配置
EMBEDDING_BATCH_SIZE=100

# 数据清理配置
NEWS_RETENTION_DAYS=90
NEWS_CLEANUP_PROTECT_WATCHLIST=true

# Celery Beat 调度配置（所有时间使用 24 小时制）
# 每日日线同步（默认：16:00 收盘后）
SYNC_DAILY_QUOTES_HOUR=16
SYNC_DAILY_QUOTES_MINUTE=0

# 自选股行情同步（默认：每小时整点）
SYNC_WATCHLIST_QUOTES_MINUTE=0

# 财务报表同步（默认：每周六 20:00）
SYNC_FINANCIAL_DAY_OF_WEEK=6
SYNC_FINANCIAL_HOUR=20
SYNC_FINANCIAL_MINUTE=0

# 全市场新闻同步（默认：每天 8:00 和 18:00）
SYNC_MARKET_NEWS_MORNING_HOUR=8
SYNC_MARKET_NEWS_MORNING_MINUTE=0
SYNC_MARKET_NEWS_EVENING_HOUR=18
SYNC_MARKET_NEWS_EVENING_MINUTE=0

# 自选股新闻同步（默认：每天 8:05 和 18:05）
SYNC_WATCHLIST_NEWS_MORNING_HOUR=8
SYNC_WATCHLIST_NEWS_MORNING_MINUTE=5
SYNC_WATCHLIST_NEWS_EVENING_HOUR=18
SYNC_WATCHLIST_NEWS_EVENING_MINUTE=5

# 新闻向量生成（默认：每小时第 30 分钟）
GENERATE_EMBEDDINGS_MINUTE=30

# 板块行情同步（默认：16:30 收盘后）
SYNC_SECTOR_QUOTES_HOUR=16
SYNC_SECTOR_QUOTES_MINUTE=30

# 新闻清理（默认：每周一凌晨 2:00）
CLEANUP_NEWS_DAY_OF_WEEK=0
CLEANUP_NEWS_HOUR=2
CLEANUP_NEWS_MINUTE=0

# 向量服务配置（独立于 LLM）
EMBEDDING_PROVIDER=openai  # 可选：openai, siliconflow, ollama

# OpenAI 向量配置
EMBEDDING_OPENAI_API_KEY=your_openai_api_key
EMBEDDING_OPENAI_MODEL=text-embedding-3-small
EMBEDDING_OPENAI_DIMENSION=1536

# SiliconFlow 向量配置（可选）
# EMBEDDING_SILICONFLOW_API_KEY=your_siliconflow_api_key
# EMBEDDING_SILICONFLOW_BASE_URL=https://api.siliconflow.cn/v1
# EMBEDDING_SILICONFLOW_MODEL=BAAI/bge-large-zh-v1.5
# EMBEDDING_SILICONFLOW_DIMENSION=1024

# Ollama 向量配置（可选）
# EMBEDDING_OLLAMA_BASE_URL=http://localhost:11434
# EMBEDDING_OLLAMA_MODEL=nomic-embed-text
# EMBEDDING_OLLAMA_DIMENSION=768

# 日志配置
LOG_LEVEL=INFO
LOG_FORMAT=json
