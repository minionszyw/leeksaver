# ======================
# LeekSaver 环境变量配置
# ======================

# 应用配置
APP_NAME=LeekSaver
APP_ENV=development
DEBUG=true

# API 配置
API_HOST=0.0.0.0
API_PORT=8000

# PostgreSQL 配置
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=leeksaver
POSTGRES_PASSWORD=leeksaver_password
POSTGRES_DB=leeksaver

# Redis 配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# Celery 配置
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# LLM 配置 (支持多服务商)
LLM_PROVIDER=deepseek
# DeepSeek
DEEPSEEK_API_KEY=your_deepseek_api_key
DEEPSEEK_BASE_URL=https://api.deepseek.com/v1
DEEPSEEK_MODEL=deepseek-chat
# OpenAI (可选)
OPENAI_API_KEY=your_openai_api_key
OPENAI_MODEL=gpt-4-turbo-preview
# Ollama (可选, 本地模型)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=qwen2.5:14b

# 向量服务配置（独立于 LLM）
EMBEDDING_PROVIDER=siliconflow  # 可选：siliconflow, ollama

# SiliconFlow 向量配置（可选）
EMBEDDING_SILICONFLOW_API_KEY=sk-***
EMBEDDING_SILICONFLOW_BASE_URL=https://api.siliconflow.cn/v1
EMBEDDING_SILICONFLOW_MODEL=BAAI/bge-m3
EMBEDDING_SILICONFLOW_DIMENSION=1024

# Ollama 向量配置（可选）
# EMBEDDING_OLLAMA_BASE_URL=http://localhost:11434
# EMBEDDING_OLLAMA_MODEL=nomic-embed-text
# EMBEDDING_OLLAMA_DIMENSION=768

# 分层调度策略配置

# L0 - 周更组（默认：每周六 20:00）
SYNC_FINANCIAL_DAY_OF_WEEK=6
SYNC_FINANCIAL_HOUR=20
SYNC_FINANCIAL_MINUTE=0

# L1 - 日更组：收盘后统一同步时间（格式：HH:MM，24小时制）
SYNC_L1_DAILY_TIME=17:30

# L2 - 日内组：高频更新间隔（单位：秒）
SYNC_L2_INTERVAL_SECONDS=60
# L2 任务错开间隔（单位：秒）
SYNC_L2_TASK_OFFSET_SECONDS=10

# L3 - 按需组：实时数据缓存失效时间（单位：秒）
REALTIME_CACHE_TTL=10

# 新闻数据清理任务
# --------------------
# 调度：每天凌晨 2:00 执行
CLEANUP_NEWS_HOUR=2
CLEANUP_NEWS_MINUTE=0
# 策略：保留最近 1 年数据，不再区分自选股。
NEWS_RETENTION_YEARS=1

# 健康检查配置
HEALTH_CHECK_HOUR=0
HEALTH_CHECK_MINUTE=0

# 日志配置
LOG_LEVEL=INFO
LOG_FORMAT=json

# ==================== 邮件报警配置 (SMTP) ====================
# 是否启用邮件报警 (True/False)
SMTP_ENABLED=False
# SMTP 服务器地址 (如 smtp.qq.com, smtp.gmail.com)
SMTP_HOST=smtp.qq.com
# SMTP 端口 (SSL 通常为 465, TLS 通常为 587)
SMTP_PORT=465
# SMTP 用户名 (通常是您的邮箱地址)
SMTP_USER=your_email@example.com
# SMTP 授权码/密码 (注意：QQ/163邮箱请使用授权码而非登录密码)
SMTP_PASSWORD=your_smtp_auth_code
# 发件人显示地址 (通常与 SMTP_USER 一致)
SMTP_FROM=LeekSaver-Robot <your_email@example.com>
# 报警接收人地址
SMTP_TO=admin@example.com
# 是否使用 SSL/TLS (True/False)
SMTP_TLS=True
